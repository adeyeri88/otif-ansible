# {{ansible_managed}}
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6


{% for host in groups['all'] %}  
{{hostvars[host]['ansible_' + adapter]['ipv4']['address'] + '  ' -}}   
{{hostvars[host]['ansible_fqdn'] + '  ' -}}  
{{host + '  ' -}}  
  {% if hostvars[host]['group_names'] | length > 1 -%}
  {% for group in hostvars[host]['group_names'] -%}
     {% if hostvars[host]['groups'][group] | length == 1 -%}
         {{group + '  ' -}}
         {% if domain -%}
             {{group}}.{{domain + '  ' -}}
         {% else -%}
              {{group}}.{{hostvars[host]['ansible_domain'] + '  ' -}}
         {%- endif %} 
     {% else  -%}
         {% if domain -%}
             {{group}}-{{host}}.{{domain + '  ' -}}
         {% else -%}
              {{group}}-{{host}}.{{hostvars[host]['ansible_domain'] + '  ' -}}
         {%- endif %} 
         {{group}}-{{host +'  ' -}}    
     {%- endif %}
  {%- endfor %}
  {% else -%}
     {% if domain -%}
        {{hostvars[host]['group_names'][0]}}.{{domain + '  ' -}}
     {% else -%}
        {{hostvars[host]['group_names'][0]}}.{{hostvars[host]['ansible_domain'] + '  ' -}}  
     {%- endif %}
     {{hostvars[host]['group_names'][0] + '  ' -}}  
  {%- endif %}
{%- endfor %}
